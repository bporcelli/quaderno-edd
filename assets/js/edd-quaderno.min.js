jQuery(document).ready(function(a){function e(){if("1"==edd_global_vars.taxes_enabled){var e={action:"edd_recalculate_taxes",edd_vat_number:d.find("#edd_vat_number").val(),card_zip:d.find(".card-zip").val(),billing_country:d.find("#billing_country").val()};a.ajax({type:"POST",data:e,dataType:"json",url:edd_global_vars.ajaxurl,xhrFields:{withCredentials:!0},success:function(d){a("#edd_checkout_cart").replaceWith(d.html),a(".edd_cart_amount").html(d.total);var n=new Object;n.postdata=e,n.response=d,a("body").trigger("edd_taxes_recalculated",[n])}}).fail(function(a){window.console&&window.console.log&&console.log(a)})}}var d=a("#edd_purchase_form"),n=["AT","BE","BG","HR","CY","CZ","DK","EE","ES","FI","FR","DE","GB","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","SE"],t=["BE","DE","ES","IT"];d.on("change","#billing_country",function(e){return a(this).val()==a("#edd_shop_country").val()||-1==a.inArray(a(this).val(),n)?(a("#edd_vat_number_wrap").hide(),a("#edd_vat_number").val("")):a("#edd_vat_number_wrap").show(),a(this).val()==a("#edd_shop_country").val()&&-1!=a.inArray(a(this).val(),t)?a("#edd_tax_id_wrap").show():(a("#edd_tax_id_wrap").hide(),a("#edd_tax_id").val("")),!0}),a("#billing_country").trigger("change"),a("body").on("edd_gateway_loaded",function(e){a("#billing_country").trigger("change")}),d.length>0&&e(),d.on("change","#edd_vat_number, #billing_country, .card-zip, #card_state",function(a){return e(),!0})});